{% extends "layouts/base.html" %}

{% block content %}

<div id="thread-title" class="clearfix">
  <h1>Yo, duder dude face. Where are ya & what's crackin?</h1>
  <ul class="horizontal">
    <li><a href=""><span class="icon-user"></span> 2 People</a></li>
    <li><a href=""><span class="icon-unencrypted"></span> Partially Secure</a></li>
  </ul>
</div>

<div class="bulk-actions clearfix">
  <div class="left">4 of 13 Messages</div>
  <ul class="horizontal right">
	  <li><a class="bulk-action" href="#" data-action="later" title="{{_("Move Whole Thread to Later")}}"><span class="icon-later"></span></a></li>
	  <li><a class="bulk-action" href="#" data-action="assign-tags" title="{{_("Assign Tags to Thread")}}"><span class="icon-tag"></span></a></li>
	  <li><a class="bulk-action" href="#" data-action="archive" title="{{_("Archive Whole Thread")}}"><span class="icon-archive"></span></a></li>
	  <li><a class="bulk-action" href="#" data-action="trash" title="{{_("Delete Whole Thread")}}"><span class="icon-trash"></span></a></li>
  </ul>  
</div>

<div id="thread-messages">

  <div class="thread-snippet" data-mid="E3W">
    <div class="thread-item-metadata clearfix">
      <div class="thread-item-from">
        <a href="" class="avatar"><img src="/static/img/avatar-default.png"></a>
        <a href="" class="name">You</a>
        <span class="icon icon-encrypted"></span>
      </div>
      <div class="thread-item-details">
        <span class="datetime">Nov 8, 2012</span>
        <span class="feedback-expand">Expand Message</span>
      </div>
    </div>
    <div class="thread-item-text">
      Yo buddy. I’m doing pretty good- just living it up here in Iceland, ya know mi pitchfork Austin Pinterest forage put a bird on it. Etsy small batch beard cred. Fingerstache YOLO swag, mixtape McSweeney's pirate ship book shop...
    </div>
  </div>

  <div class="thread-line-subject"></div>

  <div class="thread-snippet" data-mid="E34">
    <div class="thread-item-metadata clearfix">
      <div class="thread-item-from">
        <a href="" class="avatar"><img src="/static/img/avatar-default.png"></a>
        <a href="" class="name">Ian Nelson</a>
        <span class="icon icon-encrypted"></span>
      </div>
      <div class="thread-item-details">
        <span class="datetime">Nov 8, 2012</span>
        <span class="feedback-expand">Expand Message</span>
      </div>
    </div>
    <div class="thread-item-text">
      Yo buddy. I’m doing pretty good- just living it up here in Iceland, ya know mi pitchfork Austin Pinterest forage put a bird on it. Etsy small batch beard cred. Fingerstache YOLO swag, mixtape McSweeney's pirate ship book shop...
    </div>
  </div>

</div>

<div id="thread-message">
  <div class="thread-item-metadata clearfix">
    <div class="thread-item-from">
      <a href="" class="avatar"><img src="/static/img/avatar-default.png"></a>
      <a href="" class="name">Johnny B. Goode</a>
      <span class="icon icon-unencrypted"></span>
    </div>
    <div class="thread-item-details">
      <span class="datetime">Nov 8, 2012</span>
    </div>
  </div>
  <!-- Non Encrypted Text -->
  <div class="thread-item-text">
    Hey, buddy  How’s it going over there in Ice-o-land? Are you ever planning on coming back to the USA? I hope so as I am missing ya quite fierce amigo. Sustainable church-key Schlitz Godard. Flannel ennui master cleanse +1 Pinterest. Farm-to-table Portland +1, Echo Park fingerstache ennui tousled photo booth single-origin coffee hella 8-bit. Odd Future next level hoodie keffiyeh, art party meh stumptown. Organic jean shorts street art, semiotics polaroid Wes Anderson forage bicycle rights. Lo-fi fashion axe kitsch, selfies pitchfork PBR direct trade Banksy kale chips blog asymmetrical twee actually blue bottle. Blue bottle yr selfies tousled, tofu mixtape helvetica authentic typewriter wolf YOLO gastropub sartorial thundercats narwhal.
  </div>
  <!-- Encrypted Text -->
  <div class="thread-item-text">
    <div class="thread-item-data-encrypted">
      <span class="icon-encrypted"></span> Encrypted
    </div>
    <p>Pop-up Cosby sweater Marfa, put a bird on it sriracha asymmetrical Truffaut. Vice keffiyeh intelligentsia Odd Future, wolf PBR occupy 90's vinyl banh mi pitchfork Austin Pinterest forage put a bird on it. Etsy small batch beard cred. Fingerstache YOLO swag, mixtape McSweeney's leggings single-origin coffee retro banh mi synth wayfarers yr ennui. High Life occupy hoodie tattooed. Lomo jean shorts cliche, intelligentsia disrupt organic four loko kitsch cred ethical sartorial 90's Vice. Street art bicycle rights cray photo booth 90's mlkshk, mustache!</p>
  </div>
</div>

<div id="thread-message-actions" class="bulk-actions clearfix" data-mid="E36">
  <ul class="horizontal left">
    <li><a href="#"><span class="icon-checkmark"></span> To Do</a></li>
    <li><a href="#"><span class="icon-forward"></span> Forward</a></li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" id="thread-message-move" href="#"><span class="icon-move"></span> Move</a>
      <ul id="menu1" class="dropdown-menu" role="menu" aria-labelledby="thread-message-move">
        <li role="presentation"><a role="menuitem" tabindex="-1" href="#"><span class="icon-inbox"></span> Move to Inbox</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="#"><span class="icon-trash"></span> Move to Trash</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="#"><span class="icon-circle-x"></span> Remove from Thread</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="#"></a></li>
      </ul>
    </li>
    <li><a href="#"><span class="icon-trash"></span> Trash</a></li>
  </ul>
</div>

<!--
<div id="thread-reply" class="clearfix">

  <div class="clearfix">
    <ul class="left">
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" id="reply-from" href="#">
          <img src="/static/img/avatar-default.png">
          You <span class="icon-arrow-left"></span>
          <span>hi@brennannovak.com</span>
        </a>
        <ul id="menu1" class="dropdown-menu" role="menu" aria-labelledby="reply-from">
          {% for p in result.profiles %}
          <li role="presentation"><a href="#">
            <img src="/static/img/avatar-default.png">
            {{ p.name|e }}
            <span>{{ p.email|e }}</span> {{ p.route|e }}</a>
          </li>
          {% endfor %} 
          <li role="presentation"><a href="#">
            <img src="/static/img/avatar-default.png">
            You <span class="icon-arrow-left"></span>
            <span>hi@brennannovak.com</span></a>
          </li>
          <li role="presentation"><a href="#">
            <img src="/static/img/avatar-default.png">
            Work <span class="icon-arrow-left"></span>
            <span>bnvk@mailpile.is</span></a>
          </li>
          <li role="presentation"><a href="#">
            <img src="/static/img/avatar-default.png">
            Reverse <span class="icon-arrow-left"></span>
            <span>brennan@reverseproductions.com</span></a>
          </li>
        </ul>
      </li>
    </ul>
    <ul id="reply-options" class="horizontal right">
      <li><a href="#"><span class="icon-unencrypted"></span> Partially Secure</a></li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" id="reply-datetime" href="#"><span class="icon icon-arrow-right"></span> Send <span id="reply-datetime-display">Immediately</span></a>
        <ul id="menu1" class="dropdown-menu" role="menu" aria-labelledby="reply-datetime">
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="immediately" href="#">Immediately</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="1" href="#">1 hr</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="2" href="#">3 hrs</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="6" href="#">6 hrs</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="12" href="#">12 hrs</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="24" href="#">1 day</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="48" href="#">2 days</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="168" href="#">1 week</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="336" href="#">2 weeks</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" class="pick-send-datetime" data-datetime="672" href="#">1 month</a></li>
        </ul>     
      </li>
      <li><a id="reply-show-details" href="#"><span class="icon-compose"></span> Details</a></li>
    </ul>
  </div>

  <div id="thread-reply-details">
    <div>
      To <a class="message-email-address" href="/contact/name@email.com/"><img src="/static/img/avatar-default.png">Ian Nelson</a>
         <input id="compose-to" name="to" type="text" tabindex="1" value="">
    </div>
    <div>
      <input type="text" placeholder="{{_("New Subject")}}">
    </div>
  </div>

  <div id="thread-reply-actions">
    <textarea id="reply-textarea" placeholder="{{_("Your reply...")}}"></textarea>
    <a class="left" href="#"><span class="icon-attachment"></span> Attach Something</a>
    <button class="right" type="submit"><span class="icon-reply"></span> Reply</button>
  </div>

</div>
-->


<script src="/static/js/libraries/bootstrap-dropdown.js"></script>
<script>

/* Expand Snippet */
$(document).on('click', '.thread-snippet', function() {
  
  alert('FIXME: Will load full message with mid: ' + $(this).data('mid'));
  
});


/* Might Move to Global Location / Abstraction */
$(document).on('click', '.dropdown-toggle', function() {
  console.log('toggle da bizzle');
  $(this).find('.icon-arrow-right').removeClass('icon-arrow-right').addClass('icon-arrow-down');
});


/* Pick Send Date */
$(document).on('click', '.pick-send-datetime', function(e) {

  if ($(this).data('datetime') == 'immediately') {
    $('#reply-datetime-display').html($(this).html());
  }
  else {
    $('#reply-datetime-display').html('in ' + $(this).html());
  }

  $('#reply-datetime span.icon').removeClass('icon-arrow-down').addClass('icon-arrow-right');

});


$(document).on('click', '#reply-show-details', function(e) {
  $('#thread-reply-details').slideDown('fast');
});

</script>

{% endblock %}
